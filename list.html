<!DOCTYPE html> 
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <!-- 禁止横屏 -->
        <metaname="x5-orientation"content="portrait">
        <meta http-equiv="cache-control" content="no-cache">
        <!-- 开发阶段-禁用缓存 -->
        <meta charset="utf-8">
        <title>直播课程</title>
        <link rel="stylesheet" href="css/styles.css" />
        <!-- 主要库文件-重置样式 -->
        <link rel="stylesheet" href="css/swiper-3.2.7.min.css" />
        <!-- 焦点图 -->
        <link rel="stylesheet" href="css/index.css" />
        <!-- 主要样式表 -->
        <link href="http://cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
        <!-- 图标字体 -->
     
       
    </head>
    <body>



    <nav class="bar bar-tab">
        <a class="tab-item active" href="javascript:;"><i><img src="images/icon-1.png"  alt="" /></i><span class="tab-label">直播</span></a>
        <a class="tab-item" href=""><i><img src="images/icon-2.png"  alt="" /></i><span class="tab-label">课程</span></a>
        <a class="tab-item" href=""><i><img src="images/icon-3.png"  alt="" /></i><span class="tab-label">回放</span></a>
         <a class="tab-item" href="javascript:;"><i><img src="images/icon-4.png"  alt="" /></i><span class="tab-label">入会</span></a>
    </nav>
    <div  class="page-box">

  <header>
  <a style="color:#fff;" class="top-menu" href="javascript:;"><i class="fa fa-arrow-left"></i></a>
    <!-- A暂时不做处理，这里用来占位 -->
  <span>直播课程</span>
  <!-- A暂时不做处理，这里用来占位 -->
  <a style="color:#399999;"  class="top-search" href="javascript:;"><i  class="fa fa-search"></i></a>
  </header> 
      

 
   <div id="tabSlider2" class="tabSlider">  

          <ul class="tabSlider-hd tabSlider-hd-4">
                       <li class="curr">常规<i class="fa fa-chevron-down"></i></li>
                       <li>专业<i class="fa fa-chevron-down"></i></li>
                       <li>特殊<i class="fa fa-chevron-down"></i></li>
                       <li>研习营</li>
                      

            </ul> 
            
            <div class="tabSlider-bd animate-list" style="opacity:0;transform:translateY(300px);">      

                <div class="tabSlider-wrap">

                    <div class="tabSlider-box curr">

                        <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span class="time-start">正在直播</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，我可以进行论文辅导，请来.我可以进行论文辅导，请来.我可以进行论文辅导，请来.请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即进入</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                       <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来.我可以进行论文辅导，请来.我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                      <div class="loading ">
                        <div class="loadEffect">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>

                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <a class="load-more" href="javascript:;">点击查看更多</a>

                    </div>

                    <div class="tabSlider-box">

                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                      <div class="loading ">
                        <div class="loadEffect">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>

                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <a class="load-more" href="javascript:;">点击查看更多</a>
                    </div>

                    <div class="tabSlider-box">

                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                      <div class="loading ">
                        <div class="loadEffect">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>

                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <a class="load-more" href="javascript:;">点击查看更多</a>

                    </div>
                     <div class="tabSlider-box">

                             <div class="li-list">
                        <div class="left-box">
                        <div class="cover-box"><img src="images/video-cover.jpg"  alt="" />
                        <div class="title-bar2"><p><span>20:00</span></p></div></div>
                        </div>
                        <div class="right-box">
                          <p title="我可以进行论文辅导，请来一起学习吧！" class="l-p1">我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来我可以进行论文辅导，请来...</p>
                          <p class="l-p2"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p>
                          <p class="l-p3"><span>¥ 1000</span><span><i>20</i>人购买</span><a href="videos.html">立即报名</a></p>
                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <!-- 1 -->
                      <div class="loading ">
                        <div class="loadEffect">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>
                            <span></span>

                        </div>
                        <div style="clear:both"></div>
                      </div>
                      <a class="load-more" href="javascript:;">点击查看更多</a>

                    </div>
              

                </div>  

            </div>

    </div>

 

   <!--  <div class="text-more"><p>更多内容，敬请期待...</p></div> -->
    </div>
<!-- 滚动盒子 ？ -->

    </body>
<script src="http://www.jq22.com/demo/tabslider-141213112423/zepto.js"></script>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/swiper-3.2.7.min.js"></script>
<script src="js/layer/layer.js"></script>
<script src="js/tabslider.js"></script>

<script> 

//DOM加载完成后执行确保无闪烁
window.onload=function(){ 

//轮播图      
  var mySwiper = new Swiper ('.swiper-container', {
    touchRatio : 0.5,
    pagination : '.swiper-pagination',
    paginationHide :true,
    autoplay : 3000,
    loop : true,
    autoplayDisableOnInteraction : true,
});
//tabs
$(function(){
    app.TabSlider('#tabSlider2');
    setTimeout(function(){$(".tabs-content-h").addClass('tabs-content-v');}, 400) 
});
//动画
    setTimeout(function(){$(".animate-list").css({
                    "opacity":"1",
                    "webkitTransform":"translateY(0px)",
                    "transition":"all 0.6s"
                    }) },800); //通用 

  function LoadMore(b){
      //ajax 获取新数据;
      //成功返回数据--调用 LoadComplete();
      // 这里是模拟数据 用于测试调整加载数据后调整tabs的高度
      // 
      var MOCK_test = "<div class=\"li-list\"><div class=\"left-box\"><div class=\"cover-box\"><img src=\"images/video-cover.jpg\"  alt=\"\" /><div class=\"title-bar2\"><p><span class=\"time-start\">正在直播</span></p></div></div></div><div class=\"right-box\"><p title=\"我可以进行论文辅导，请来一起学习吧！\" class=\"l-p1\">我可以进行论文辅导，请来...</p><p class=\"l-p2\"><span>2015-05-17 16:30</span><span>浏览：<i>1295</i></span></p><p class=\"l-p3\"><span>¥ 1000</span><span><i>20</i>人购买</span><a href=\"\">立即进入</a></p></div><div style=\"clear:both\"></div></div>"

        var Vitems = b.parent().children('.li-list');

        var last_Vitem = Vitems.eq(Vitems.length-1);

        last_Vitem.after(MOCK_test,MOCK_test);
          

            // 调用这个方法隐藏loading动画
              LoadComplete(b);


          

  }

 function LoadStart(a){

        a.siblings('.loading').addClass('loading-active');
        $(".tabSlider .tabSlider-bd").height(a.parents(".tabSlider-box").height());
       }

 function LoadFailed(b){
         b.siblings('.loading').removeClass('loading-active');
        var FailedMes = "<p class=\"FailedMes\" style=\"text-align:center;font-size:0.84rem;color:#fb3030;width:100%\">网络好像出现问题，请重试!</p>";
        b.before(FailedMes);
        setTimeout(function(){$(".FailedMes").remove()},3000);
        $(".tabSlider .tabSlider-bd").height(b.parents(".tabSlider-box").height());
 }

 function LoadComplete(c){
       $(".loading").removeClass('loading-active');
       $(".tabSlider .tabSlider-bd").height(c.parents(".tabSlider-box").height());
}

$(".load-more").click(function(){

            //ajax执行LoadStart 出现loading动画
            LoadStart($(this));
            //ajax超时或者错误调用LoadFailed
            LoadFailed($(this));
            //ajax成功调用LoadComplete($(this));
            //隐藏loading动画
            //测试用
             LoadMore($(this));
      
})


}

  </script>
  
</html>